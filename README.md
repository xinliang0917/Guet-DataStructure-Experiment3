# 城市间交通规划与导航系统

## 项目概述

本项目实现了一个城市间交通规划与导航系统，能够根据用户输入的起点和终点城市，自动生成费用最少或时间最短的出行方案。系统支持公路、铁路、航空三种交通方式的随意混搭，并提供交互式输入界面。

## 功能特点

- **多种交通方式支持**：公路、铁路、航空三种交通方式的权值设置与随意混搭
- **双维度路径规划**：支持按费用最少和时间最短两种方式规划路径
- **大规模数据支持**：可处理至少20个城市、50条道路的规模
- **交互式界面**：命令行形式的用户友好界面
- **详细路径输出**：显示完整的行进路线和所使用的交通方式

## 技术实现

### 数据结构

- **邻接矩阵**：使用多个二维数组表示不同交通方式的费用和时间
- **城市信息存储**：使用字符数组存储城市名称，支持城市名称与节点编号的映射
- **前驱信息记录**：使用结构体记录路径中的前驱节点和交通方式
- **栈结构**：用于逆转路径顺序，实现从起点到终点的正确输出

### 核心算法

- **Dijkstra算法**：求解最短路径（最小费用或最短时间）
  - 扩展支持三种交通方式的综合考虑
  - 动态更新最短距离数组和前驱信息

### 关键数据结构定义

```c
// 交通方式枚举
enum TransportMode {
    ROAD,
    RAILWAY,
    AIR
};

// 前驱信息结构体
typedef struct PreInfo {
    int preVex;
    enum TransportMode transportMode;
} PreInfo;

// 图的邻接矩阵表示
typedef struct GraphMatrix {
    int size;                    // 图中节点的个数
    char** city;                 // 城市名称数组，下标为节点编号
    int** graphRoad;             // 公路费用矩阵
    int** graphRailway;          // 铁路费用矩阵
    int** graphAir;              // 航空费用矩阵
    int** timeRoad;              // 公路时间矩阵
    int** timeRailway;           // 铁路时间矩阵
    int** timeAir;               // 航空时间矩阵
} GraphMatrix;

// 搜索维度枚举
enum SearchDimension {
    BY_COST,    // 按费用
    BY_TIME     // 按时间
};
```

## 数据格式

系统使用`transport_data.txt`文件存储城市间的交通信息，格式如下：

```
Start End Mode Distance Time Cost
Beijing Shanghai ROAD 1211 12 1300
Beijing Shanghai RAILWAY 1318 4.5 600
Beijing Shanghai AIR 1178 2 800
...
```

其中：
- `Start`和`End`：起点和终点城市名称
- `Mode`：交通方式（ROAD/RAILWAY/AIR）
- `Distance`：距离（公里）
- `Time`：时间（小时）
- `Cost`：费用（元）

## 使用方法

### 编译与运行

1. 确保已安装C++编译器（如GCC、MinGW等）
2. 编译程序：
   ```bash
   g++ main.cpp -o main
   ```
3. 运行程序：
   ```bash
   ./main
   ```

### 交互方式

程序运行后，用户可以选择以下功能：

1. **显示所有城市**：查看系统中已有的城市列表
2. **添加交通路线**：添加新的城市间交通路线
3. **删除交通路线**：删除已有的交通路线
4. **按费用最少规划路径**：输入起点和终点，获取费用最少的出行方案
5. **按时间最短规划路径**：输入起点和终点，获取时间最短的出行方案
6. **退出程序**：结束系统运行

## 示例输出

```
欢迎使用城市间交通规划与导航系统！

1. 显示所有城市
2. 添加交通路线
3. 删除交通路线
4. 按费用最少规划路径
5. 按时间最短规划路径
6. 退出程序

请选择操作 (1-6): 4

请输入起点城市名称: Beijing
请输入终点城市名称: Shanghai

最优路线从 Beijing 到 Shanghai:
总费用: 600 元

Beijing -> Shanghai (铁路)
```

## 项目结构

```
数据结构实验3/
├── main.cpp          # 主程序文件
├── main.exe          # 可执行文件
├── transport_data.txt # 交通数据文件
├── 实验3.md          # 实验说明文档
└── README.md         # 项目说明文档
```

## 实验目标

- 掌握图论数据结构在路径规划中的应用
- 理解Dijkstra算法的原理与适用场景
- 培养将实际问题抽象为图模型的能力
- 提升算法优化意识和实际编程能力

## 开发环境

- C++语言
- 标准C++库
- 支持C++11及以上版本的编译器

## 作者信息

- 项目类型：数据结构实验
- 实验名称：城市间交通规划与导航
- 实验学时：4学时

---

**注**：本项目为数据结构实验作业，用于学习和实践图论算法在实际问题中的应用。